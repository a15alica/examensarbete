<html>
<head>
  <meta charset="UTF-8">
  <title>Google Charts Punkt 2</title>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
</head>
<body>
  <div id="chart_div" style="width: 1200px; height: 600px;"></div>
  <script>
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      myFunction(this);
    }
  };
  xhttp.open("GET", "stockholm1.xml", true);
  xhttp.send();

  function myFunction(xml) {
    var xmlDoc, arr, txt, count, c, x, y, z, txt1;
    xmlDoc = xml.responseXML;
    arr = [];
    txt = [];
    count = [];
    c = 1;
    x = xmlDoc.getElementsByTagName("year");
    z = xmlDoc.getElementsByTagName("temp3");
    for (i = 0; i < x.length; i++) {
      if(x[i].childNodes[0].nodeValue == "1900"){
        txt1 = z[i].childNodes[0].nodeValue;
        var a = parseFloat (txt1);
        txt.push(a);
        count.push(c);
        c++;
      }  
    }

    for (i=0; i<count.length; i++) {
      var partarr = [];
      partarr.push(count[i]);
      partarr.push(txt[i]);
      arr.push(partarr);
    }

    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
      var data = new google.visualization.DataTable();

      data.addColumn('number', 'Dag');
      data.addColumn('number', 'temp');
      data.addRows(arr);

      var options = {
        title: 'Temperaturer Stockholm 1900',
        hAxis: {title: 'Dag', minValue: 0, maxValue: 367},
        vAxis: {title: 'Temp (Celcius)', minValue: 0, maxValue: 25},
        legend: 'none',
        colors: ['#009933'],
      };

      var chart = new google.visualization.ScatterChart(document.getElementById('chart_div'));

      chart.draw(data, options);
    }
  }
  </script>
</body>
</html>
